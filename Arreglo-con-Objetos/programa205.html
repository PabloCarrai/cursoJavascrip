<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    /*
    
    
    Usando el arreglo deportista 
    Confeccionar las siguientes funciones:
    1- Imprimir todos los datos de los deportistas
    imprimir(deportistas)
    2- Imprimir los deportistas que han obtenido medallas de oro
    3- Ordenar los deportistas por edades de menor a mayor, luego volver
    imprimir los datos
    4. Imprimir la cantidad total de medallas de cada participante. 
    */

    function imprimir(deportistas) {
        // otra forma
        // deportistas.array.forEach(deportista => console.log(deportista))

        document.write("<h1>Deportista</h1>")
        document.write("<hr>")
        for (let deportista of deportistas) {
            //console.log(deportista)
            document.write("Nombre: " + deportista.nombre + "<br>")
            document.write("Apellido: " + deportista.apellido + "<br>")
            document.write("Edad: " + deportista.edad + "<br>")
            document.write("Deporte: " + deportista.deporte + "<br>")
            for (let medalla of deportista.medallas) {
                document.write("Tipo: " + medalla.tipo + "<br>")
                document.write("Cantidad: " + medalla.cantidad + "<br>")
            }




            document.write("<hr>")
        }
    }

    function medallasOro(deportistas) {
        // otra forma 
        // const deportistasOro = deportistas.filter(deportista=> deportista.medallas.filter(medalla => medalla.tipo=="oro").length==1)
        // console.log(deportistasOro)
        document.write("<h1>Ganaron Oro:</h1>")
        for (let deportista of deportistas) {
            for (let medalla of deportista.medallas) {
                if (medalla.tipo == "oro") {
                    document.write(deportista.nombre + " - ")
                }
            }
        }
        document.write("<hr>")
    }

    function ordenarDMayorMenor(deportistas) {
        // metodo de ordenamiento burbuja
        for (let k = 1; k < deportistas.length; k++) {
            for (let i = 0; i < deportistas.length - k; i++) {
                if (deportistas[i].edad > deportistas[i + 1].edad) {
                    let aux = deportistas[i]
                    deportistas[i] = deportistas[i + 1]
                    deportistas[i + 1] = aux
                }
            }
        }
        console.log(deportistas)
        //otro metodo
        //deportistas.sort((a, b) => a.edad - b.edad)
        //console.log(deportistas)
    }

    function imprimirCantidadMedallas(deportistas) {
        document.write("<h1>Resumen de medallas Totales</h1>")
        for (let deportista of deportistas) {
            let cplata = 0
            let coro = 0
            let cbronce = 0
            for (let medalla of deportista.medallas) {
                if (medalla.tipo == "oro") {
                    coro += medalla.cantidad
                }
                if (medalla.tipo == "bronce") {
                    cbronce += medalla.cantidad
                }
                if (medalla.tipo == "plata") {
                    cplata += medalla.cantidad
                }


            }
            document.write(" " + deportista.nombre + " " + deportista.apellido + "<br>")
            document.write("Cant. de Oro " + coro + "<br>")
            document.write("Cant. de Plata " + cplata + "<br>")
            document.write("Cant. de Bronce " + cbronce + "<br>")
            document.write("<hr>")

        }
        //otra forma 
        //const deportistasMedallas = deportistas.map(deportista =>
        //    deportista.nombre+" "+deportista.medallas.reduce((acumulador, medalla) => acumulador + medalla.cantidad, 0))
        //console.log(deportistasMedallas)

    }




    const deportistas = [
        {
            nombre: "Juan",
            apellido: "Perez",
            edad: 20,
            deporte: "Pesas",
            medallas: [
                {
                    tipo: "oro",
                    cantidad: 2
                },
                {
                    tipo: "bronce",
                    cantidad: 1
                }
            ]
        },
        {
            nombre: "Pedro",
            apellido: "Gonzalez",
            edad: 25,
            deporte: "Futbol",
            medallas: [
                {
                    tipo: "oro",
                    cantidad: 1
                },
                {
                    tipo: "plata",
                    cantidad: 3
                },
                {
                    tipo: "bronce",
                    cantidad: 3
                }
            ]
        },
        {
            nombre: "Maria",
            apellido: "Lopez",
            edad: 22,
            deporte: "Tenis",
            medallas: []
        },
        {
            nombre: "Ana",
            apellido: "Martinez",
            edad: 21,
            deporte: "Natacion",
            medallas: [
                {
                    tipo: "plata",
                    cantidad: 1
                }
            ]
        },
        {
            nombre: "Marta",
            apellido: "Gomez",
            edad: 20,
            deporte: "Natacion",
            medallas: [
                {
                    tipo: "plata",
                    cantidad: 1
                },
                {
                    tipo: "bronce",
                    cantidad: 1
                }
            ]
        }
    ]

    imprimir(deportistas)
    medallasOro(deportistas)
    ordenarDMayorMenor(deportistas)
    imprimirCantidadMedallas(deportistas)
</script>

<body>

</body>

</html>